<html>
    <head>
        <title>Rock paper scissor</title>
        <style>
        
        </style>
    </head>
    <body>
        <center>
            <h1>Rock, Paper, Scissor </h1>
            <div id="container">
                <button onclick="playFromUi('rock')">Rock</button>
                <button onclick="playFromUi('paper')">Paper</button>
                <button onclick="playFromUi('scissor')">Scissor</button>
            </div>
            
            <div id="endGame">
                <button onclick="scoreBoard()">End Game!</button>
            </div>
            
            <div id="score">
                
            </div>
        </center>
        <script>
            plays = ["rock", "paper", "scissor"];
            let playerScore = 0;
            let computerScore = 0;
            
            function computerPlay() {
              return plays[(Math.random() * plays.length | 0)]  
            }
            
            function playRound(playerSelection, computerSelection) {
                playerSelection = playerSelection.toString();
              
                if(playerSelection == computerSelection) {
                    alert("Tie ..")
                    return 0;
                } else {
                    if(playerSelection == "rock" && computerSelection != "paper") {
                        alert("You win .. " + playerSelection + " beats " + computerSelection);
                        return 1;
                    }
                    
                    if(playerSelection == "paper" && computerSelection != "scissor") {
                        alert("You win .. " + playerSelection + " beats " + computerSelection);
                        return 1;
                    }
                    
                    if(playerSelection == "scissor" && computerSelection != "rock") {
                        alert("You win .. " + playerSelection + " beats " + computerSelection);
                        return 1;
                    }
                    
                    alert("You lose .. " + computerSelection + " beats " + playerSelection);
                    return -1;
                }
                
            }
            
            function LeaderBoard(playerScore, computerScore) {
                this.playerScore = playerScore;
                this.computerScore = computerScore;
            }
            
            function playFromUi(playerSelection) {
                    const computerSelection = computerPlay();
                    var score = playRound(playerSelection, computerSelection);
                    if(score == 1) { playerScore += 1;}
                    if(score == -1) { computerScore += 1};
            }
            
            function scoreBoard() {
                //var leaderBoard = new LeaderBoard(playerScore, computerScore);
                //console.table(leaderBoard);
                let status = "";
                if(playerScore == computerScore) {
                    status = "<br>It is a tie."
                } else if(playerScore < computerScore) {
                    status = "<br>Computer Wins !."
                } else {
                    status = "<br>You win. Hurrayyyyy !"
                }
                
                const container = document.querySelector('#score');
                const content = document.createElement('div');
                content.classList.add('content');
                content.innerHTML = 'Your score is ' + playerScore + "<br>" + "Computer score is " + computerScore + status;

                container.appendChild(content);   
            }
            
        </script>
    </body>
</html>